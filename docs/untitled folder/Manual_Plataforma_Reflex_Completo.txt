
# Manual Plataforma Reflex

---

### 1. Stock Real

Representa la cantidad f√≠sica de productos que hay actualmente en la empresa, sin considerar si est√°n comprometidos para algo.

- El valor inicial del Stock Real **corresponde al √∫ltimo reporte de inventario realizado** para ese producto.
- Si **nunca se ha realizado un reporte de inventario**, entonces **no es posible calcular** el inventario real.

#### Aumentos:
- El Stock Real se **incrementa** con los productos reportados como producidos en los reportes de producci√≥n **que a√∫n no han sido contabilizados en inventario** (`INV` vac√≠o).
- Tambi√©n **aumenta** cuando se registra la **recepci√≥n de mercanc√≠a** en la tabla de productos de compra, usando el campo `recibido` siempre que `INV` est√© vac√≠o.

#### Disminuciones:
- Se reduce cuando un producto es **empacado y/o despachado** y el campo `INV` est√° vac√≠o.
- Se reduce con la **consumo de insumos** registrados en reportes de producci√≥n si `INV` est√° vac√≠o.

#### Consolidaci√≥n:
- Al hacer un nuevo reporte de inventario, todos los registros de producci√≥n, despacho y recepci√≥n con `INV` vac√≠o pasan a `INV = 'X'`.

---

### 2. Stock Producci√≥n

Representa la **materia prima disponible para producci√≥n**, considerando insumos ya comprometidos.

- Calculado como:  
  **Stock real de cada insumo** ‚Äì **reservas por √≥rdenes de producci√≥n no finalizadas**

- Se actualiza autom√°ticamente al generar una nueva orden de producci√≥n con insumos requeridos.

---

### 3. Stock Ventas

(Pendiente de definir ‚Äî aqu√≠ se colocar√° la l√≥gica de stock disponible para ventas despu√©s de producci√≥n y compromisos).

---

### üßæ Gesti√≥n de Productos

- Los productos se crean/actualizan con su tipo, unidad de medida, l√≠nea productiva, categor√≠a, etc.
- Se define su **Tipo**, que determina si es una **Materia Prima** o **Producto**, y si se **compra** o **fabrica**.
- Cada producto puede tener una **lista de insumos**, clasificados como:
  - Insumo Fijo
  - Insumo Variable
  - Art√≠culo
  - Empaque

---

### üè≠ Creaci√≥n de Orden de Producci√≥n

- Al generar una orden de producci√≥n:
  - Se usan autom√°ticamente los insumos definidos con sus rendimientos
  - Se calcula cu√°nto se necesita de cada insumo (seg√∫n tipo: fijo o variable)
- Se valida si hay stock suficiente
- Se actualiza el Stock Producci√≥n al reservar insumos

---

### üìù Reporte de Producci√≥n

- Indica cu√°ntas unidades fueron realmente producidas y qu√© insumos se consumieron
- Puede haber reportes parciales
- Si `INV` est√° vac√≠o:
  - El producto final a√∫n no ha sido inventariado
  - Los insumos utilizados se descuentan del Stock Real

---

### üöö Orden de Despacho

- Se genera a partir de una venta
- Selecciona productos a despachar
- Indica fecha, direcci√≥n, cliente, estado
- Relaciona productos y cantidades a despachar

---

### üì¶ Preparaci√≥n de Insumos para Despacho

- En el proceso de creaci√≥n de una orden de despacho:
  - Se agregan art√≠culos y empaques
  - Ej: torniller√≠a, cajas
  - Se descuentan del Stock Real si el campo `INV` est√° vac√≠o
- Al indicar cliente, fecha, productos e insumos:
  - Se genera formalmente la orden de despacho

---

### üí∞ C√°lculo de Costos Totales de Producci√≥n

- Adem√°s de insumos, se registran costos de:
  - Mano de obra directa
  - Costos indirectos (energ√≠a, mantenimiento)
  - Empaque y log√≠stica interna
  - Costos administrativos proporcionales
- Usados para calcular rentabilidad y definir precios

---

